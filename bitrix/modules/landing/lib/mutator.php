<? namespace Bitrix\Landing;$GLOBALS['____1594584560']= array(base64_decode('ZGVmaW'.'5l'),base64_decode(''.'cHJl'.'Z19t'.'YXRjaF9hbGw='),base64_decode('YXJy'.'YX'.'lfbWVy'.'Z2U='),base64_decode('YXJ'.'y'.'YXl'.'fdmFs'.'dWVz'),base64_decode('YXJ'.'y'.'YXlfdW5pcXVl'),base64_decode(''.'c3Vic3Ry'),base64_decode('aW5fYX'.'JyYXk='),base64_decode('ZX'.'hwb'.'G'.'9kZ'.'Q'.'=='),base64_decode(''.'cGFja'.'w=='),base64_decode('bW'.'Q'.'1'),base64_decode('Y'.'2'.'9u'.'c'.'3'.'R'.'h'.'bnQ='),base64_decode('aGF'.'za'.'F'.'9obWFj'),base64_decode('c'.'3RyY2'.'1'.'w'),base64_decode('Z'.'Xhwb'.'G'.'9'.'kZQ=='),base64_decode('bW'.'t0aW'.'1l'),base64_decode('d'.'GltZQ=='),base64_decode('ZX'.'hw'.'bG9kZQ'.'=='),base64_decode('c'.'GFjaw=='),base64_decode('bW'.'Q1'),base64_decode('Y'.'29uc3'.'R'.'hbnQ='),base64_decode('aGFzaF9obWF'.'j'),base64_decode(''.'c3R'.'yY21w'),base64_decode('ZX'.'hwbG9'.'kZQ=='),base64_decode('bWt'.'0'.'aW1l'),base64_decode('dGltZ'.'Q'.'=='),base64_decode('aW5f'.'YXJyYXk'.'='),base64_decode('cHJlZ'.'19'.'yZXBsY'.'WN'.'l'.'X2N'.'hbGx'.'iYW'.'Nr'),base64_decode('bWJ'.'f'.'c3R'.'ydG9sb3'.'dlc'.'g=='),base64_decode('c3RyX3'.'Jlc'.'G'.'xh'.'Y'.'2'.'U='),base64_decode('cHJ'.'lZ19tYX'.'RjaA'.'=='),base64_decode('cHJlZ1'.'9yZXB'.'sYW'.'N'.'lX2N'.'hbGx'.'iYWN'.'r'));if(!function_exists(__NAMESPACE__.'\\___31856901')){function ___31856901($_1331636024){static $_923372824= false; if($_923372824 == false) $_923372824=array(''.'TEFORE'.'lOR19N'.'VVRBVE'.'9S'.'X'.'01P'.'REU=','b'.'GFuZGluZw==',''.'b25MYW5kaW5'.'nU3RhcnRQd'.'WJsaWNhdG'.'lvbg==','a'.'WQ=',''.'YmxvY'.'2'.'tJZA==','c'.'2l'.'0'.'Z'.'U'.'lk','Ym'.'l0c'.'m'.'l4'.'MjQ=','R'.'U'.'1B'.'SUxfTk9'.'UX0NP'.'TkZ'.'JUk'.'1FRA==','TEFO'.'R'.'ElOR1'.'9FTUFJTF9O'.'T1RfQ09ORklSTUV'.'E','bGFu'.'ZGluZ191cmxjaG'.'Vja2'.'VyX2tleQ==','c2VsZWN'.'0',''.'Q09OVEVOV'.'A==',''.'Z'.'ml'.'sdGVy',''.'TEl'.'E','PURFT'.'EV'.'URU'.'Q=',''.'Tg'.'==','P'.'UF'.'D'.'V'.'ElWRQ==','WQ'.'==','PVBVQkxJQw==','Tg==',''.'I'.'ygoaHR0cHxmdH'.'B8a'.'HR0'.'cHMpOi8vW14nIl'.'xzPF0'.'rKSNpc'.'w'.'==','Q09OVEVOV'.'A==','aHR0cHM6'.'Ly'.'9wc'.'mV2aW'.'V3Lm'.'J'.'pd'.'HJpeDI'.'0LnNpdGUvdG9vbHMvd'.'XJsY2hlY'.'2tlci5waHA=','a2V5','d'.'XJs',''.'aHR0cF'.'9ob3N0','SFRUUF9IT1N'.'U','T0s'.'=','VVJMQ0h'.'FQ0tF'.'Ul'.'9G'.'Q'.'Ul'.'M','TEFOR'.'El'.'OR19VUk'.'xDS'.'EVDS0V'.'SX0'.'Z'.'B'.'S'.'Uw=',''.'ZmlsdGV'.'y','IUlE','U'.'FVC'.'TElDX1BBR0VfU'.'kVB'.'Q0'.'hFRA==','bG'.'lt'.'aXR'.'f'.'c2l0ZXNfbnVtY'.'mVyX'.'3B'.'hZ2U'.'=',''.'S'.'U5J'.'VElB'.'VE9SX0FQ'.'U'.'F9D'.'T0RF','cm'.'VzdA==',''.'Zmls'.'dG'.'Vy','PUNP'.'R'.'EU'.'=','SU5JVElBVE9'.'SX0FQ'.'UF9DT0'.'RF','','UE'.'FZT'.'UVOVF9BT'.'ExPVw==',''.'W'.'Q==','TE'.'FORElOR1'.'9'.'Q'.'QVlNRU5'.'UX0ZBSUxFRA==','bGFuZGluZ19w'.'YX'.'ltZ'.'W'.'5'.'0'.'X'.'2Zh'.'aWxlZF8y','c2VsZW'.'N0','Q09ERQ==',''.'Z'.'m'.'l'.'sd'.'GVy','TElE','P'.'UFDV'.'ElWRQ==','WQ='.'=','PURFTEVURUQ=','Tg==','PVB'.'VQ'.'kx'.'JQw==','T'.'g==','Q09ERQ==','c'.'mV'.'wb18l','Q0'.'9ERQ='.'=','U'.'EFZ'.'TU'.'VOV'.'F9BT'.'E'.'x'.'PVw'.'==','WQ'.'==','W'.'Q==','TEFORE'.'lOR1'.'9QQVl'.'NRU5UX'.'0ZBSUxFR'.'F'.'9CTE'.'9DSw==','b'.'GFu'.'ZGl'.'uZ19'.'w'.'YXltZ'.'W50X2ZhaWxlZF'.'9ibG9j'.'aw==','c2'.'VsZW'.'N0','SUQ=',''.'VF'.'l'.'Q'.'RQ==','ZmlsdG'.'Vy','SUQ=','U1BFQ0'.'lBTA==','Tg==',''.'Q0hFQ'.'0tfUEV'.'S'.'T'.'UlTU0'.'lPTl'.'M=','Tg==',''.'Zml'.'sdGVy','I'.'U'.'l'.'E','SUQ=','d'.'Hlw'.'ZQ='.'=','VFl'.'QRQ==','VFlQ'.'RQ==','UF'.'VCTElDX1NJVE'.'VfUkVBQ'.'0hFRF9GU'.'kVF',''.'UFVCTElDX'.'1'.'NJVEVf'.'UkVBQ'.'0hFRA==',''.'VF'.'lQRQ==','b'.'GltaXRfc2l0Z'.'XNfb'.'nVtYmV'.'yX2ZyZWU=','bGltaXRfc2l0'.'ZXNfbnVtYmVy',''.'c2VsZW'.'N0','S'.'UQ'.'=','Zml'.'sdGVy',''.'U0lURV9JRA==','Q0hFQ0tfUEVS'.'TUlTU'.'0lPT'.'lM=',''.'Tg==','SU'.'Q=','c2VsZWN'.'0','SUQ=','R'.'U5USV'.'RZX1RZUEU=','RU'.'5U'.'SVRZ'.'X0lE','Zmlsd'.'GV'.'y','TE9'.'H'.'SUM=','T1I=','PUVOVElUWV9U'.'WVBF',''.'RU5USVRZX0lE','PUVOVElUW'.'V9UWVBF','RU5USV'.'RZX0lE',''.'PUhPT'.'0s=','SEVBREJMT0NL','PUNP'.'RE'.'U=','VV'.'NF','PVZBTFVF','WQ'.'==',''.'bGltaXQ'.'=',''.'UFVCTElDX'.'0hU'.'TUxfREl'.'TQUxM'.'T1dFRFs'.'=','RU5USVRZX1'.'RZUEU=','RU5US'.'VRZ'.'X0l'.'E','X'.'Q==','b'.'G'.'lta'.'XRfc2'.'l0Z'.'XNfaHRtbF9qcw==','b'.'GFuZG'.'luZw==',''.'b2'.'5'.'MYW5'.'kaW5nUHVib'.'GljY'.'XRpb24'.'=','aWQ=','YmxvY2tJZ'.'A==','Yml0cm'.'l4Mj'.'Q=',''.'REI=','U0VMRUNUIFZ'.'BTFVF'.'IEZST0'.'0gYl9'.'vcHRpb24gV'.'0'.'hFUkUgTkFNRT'.'0nflB'.'BUkFNX0ZJTk'.'lTSF9EQVRFJyBBT'.'kQ'.'gTU9EVUxF'.'X0lEPSdtY'.'WluJyB'.'BT'.'k'.'QgU0lU'.'RV'.'9JRCBJUyBOVUxM','V'.'kFMVUU=',''.'Lg'.'==',''.'S'.'Co=','Ym'.'l0cml4','TE'.'lDRU'.'5TRV'.'9LRV'.'k'.'=','c2h'.'hMjU2','MjAxOC0wMS0wMQ==','MjAxOC0wMS'.'0wMQ==','LQ==','TEl'.'D'.'R'.'U5T'.'RV9'.'FWFBJUkVE',''.'TEFO'.'REl'.'OR19M'.'SUNFTlNFX0VYUElSRUQ=','Yml0c'.'ml4MjQ=','RE'.'I=',''.'U0VM'.'RUN'.'UIFZ'.'BTFVFIEZ'.'ST00'.'gYl9'.'vcHRpb'.'24gV0h'.'FUkUgTkFNRT0nflBBUkFNX0'.'ZJ'.'TklTSF9'.'EQVRFJ'.'yB'.'BTk'.'Qg'.'TU9EV'.'UxFX0l'.'EPSdtYWl'.'u'.'Jy'.'BBTkQgU0lURV9J'.'RCBJU'.'yB'.'OVUxM','VkFMVU'.'U=','Lg==','SCo=','Yml0cml4','TElD'.'RU5'.'TRV9LRVk=','c2hhMjU'.'2',''.'M'.'jA'.'xOC0wMS0wMQ='.'=',''.'MjAxO'.'C0wMS0wMQ'.'==','LQ==','TElDRU5TRV9FW'.'FBJUkVE','TEFO'.'R'.'E'.'lOR19M'.'SU'.'NFTlN'.'FX0VYUElSR'.'UQ=','QUN'.'US'.'VZF','WQ==','UFVCT'.'El'.'D','WQ'.'='.'=',''.'REFURV9QV'.'UJ'.'M'.'SUM=','RE'.'FURV9NT0R'.'JRlk=',''.'QUNUSV'.'ZF','WQ==','LyhbX'.'DsiXXswLD'.'F9'.'K'.'SN'.'ibG9jayhbXGRdKy'.'koW1'.'wmIl17MC'.'wxfSk'.'vaX'.'M=','TE'.'lE','PURFTEVURUQ=','Tg==','S'.'UQ=','c'.'2V'.'s'.'ZW'.'N0','SUQ'.'=',''.'UEFS'.'RU5UX0lE','ZmlsdG'.'V'.'y','SUQ=','SUQ=','S'.'UQ=','UEFSRU'.'5UX0lE','c2VsZ'.'WN0','S'.'UQ=',''.'UFVCT'.'E'.'lD','UE'.'FSRU5UX0l'.'E','Q09'.'ERQ==',''.'Q0'.'9E'.'R'.'V9PU'.'kl'.'HSU5BTA==','U09'.'SVA==','QUN'.'US'.'V'.'ZF',''.'Q'.'U5DSE'.'9'.'S','QUNDRVNT',''.'Q09OVE'.'VOVA==','U0VBU'.'kNIX0NPTl'.'RFTlQ=','U0'.'9VU'.'kNFX1BB'.'UkFNU'.'w='.'=','Q'.'VNT'.'RVRT','WE1MX0l'.'E','R'.'EVTSUdORUQ=','ZmlsdG'.'Vy','S'.'UQ=','U'.'F'.'VCTEl'.'D','W'.'Q==','Q09O'.'V'.'EVOVA='.'=','L2h'.'yZW'.'Zc'.'PSI'.'jY'.'2F0YWxv'.'ZyhFbG'.'VtZ'.'W50fFNl'.'Y3Rpb24pKFtcZF0rKSIva'.'Q'.'==','aHJ'.'lZj'.'0i','I'.'g='.'=','Q09'.'OVEVOV'.'A==','Q09OVEVOVA==','Q0'.'9OV'.'EV'.'OVA==',''.'Q09OVEV'.'O'.'VA'.'==','Y29udGVudGVka'.'XRhYmxlPSJ0cnVlIg'.'==','',''.'Q0'.'9'.'O'.'V'.'EVOV'.'A==','UE'.'FSRU5UX'.'0lE','U'.'EF'.'S'.'RU5'.'UX0l'.'E','SUQ=','U0'.'9SVA'.'==',''.'U09SVA==',''.'QU'.'NUS'.'V'.'ZF','QUN'.'USVZF','Q'.'U5DS'.'E9'.'S','QU'.'5DSE9'.'S','WE1M'.'X'.'0l'.'E','WE1MX0lE','QUNDRVNT','QUNDRVNT','REVTSUdORUQ=',''.'REVTSUd'.'ORUQ=','U09VUk'.'N'.'FX1'.'BBUk'.'FNUw==','U09V'.'Uk'.'NFX1BB'.'U'.'kFNUw==',''.'Q'.'09O'.'V'.'EV'.'O'.'VA==',''.'Q09OVEVOV'.'A==','U0VBUkN'.'IX0'.'NP'.'TlRFTlQ=',''.'U0'.'VBUkNIX0NPTlRFTlQ=','QVNTRVRT','QV'.'NTRVRT','UE'.'FSRU5UX0l'.'E','Q'.'0'.'9OV'.'EVOVA='.'=','T'.'ElE','Q09ERQ==',''.'Q'.'09E'.'RQ==','Q09ERV9P'.'UklHSU5BTA='.'=','Q09E'.'RV'.'9PUk'.'lHSU5BTA==','U09'.'S'.'VA==',''.'U0'.'9SVA==',''.'Q'.'U5DSE9S','QU'.'5DSE9S','Yg==','WE'.'1'.'M'.'X'.'0lE',''.'WE1MX'.'0lE','QUNUSVZ'.'F','QUNUS'.'VZF',''.'QU'.'NDRV'.'NT','QUNDR'.'V'.'NT','REVT'.'SUdORU'.'Q'.'=','R'.'EVT'.'SUd'.'ORUQ=','U09'.'V'.'U'.'kNFX1BBUkFNUw'.'==','U09V'.'Uk'.'NF'.'X1BBUkFN'.'Uw'.'==',''.'Q'.'09OVEV'.'OVA='.'=','Q0'.'9OVEVOVA==','U'.'0VBUkNI'.'X0NPTlRFTlQ=',''.'U0VBUkN'.'IX0NPTl'.'RFTl'.'Q'.'=','QVNTRV'.'R'.'T',''.'Q'.'VN'.'T'.'RVR'.'T','UEFSRU5'.'UX0l'.'E',''.'Q'.'0'.'9OV'.'EV'.'OVA==','Q09OVE'.'V'.'OVA'.'==','Q09OVEVOV'.'A==','Q0'.'9OV'.'EV'.'OV'.'A==',''.'I2Jsb'.'2Nr','I2J'.'s'.'b2Nr','Q09OV'.'EVOVA'.'==');return base64_decode($_923372824[$_1331636024]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Landing\Assets; use \Bitrix\Landing\Block\Cache; use \Bitrix\Landing\Restriction; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; use \Bitrix\Main\Web\HttpClient; use \Bitrix\Main\Config\Configuration; use \Bitrix\Rest\AppTable; Loc::loadMessages(__FILE__); $GLOBALS['____1594584560'][0](___31856901(0), true); class Mutator{  public static function landingPublication(Landing $landing, $_758424398= null, bool $_543446848= false): bool{ static $_76560656=[]; static $_787658785=[]; Manager::disableAllFeaturesTmp(); if(!$landing->exist()){ return false;}  $_1959229230= new Event(___31856901(1), ___31856901(2), array( ___31856901(3) => $landing->getId(), ___31856901(4) => $_758424398, ___31856901(5) => $landing->getSiteId())); $_1959229230->send(); foreach($_1959229230->getResults() as $_112785332){ if($_112785332->getType() == EventResult::ERROR){ foreach($_112785332->getErrors() as $_2088372588){ $landing->getError()->addError( $_2088372588->getCode(), $_2088372588->getMessage());} return false;}}  if(\Bitrix\Main\Loader::includeModule(___31856901(6))){ if(!\CBitrix24::isEmailConfirmed()){ $landing->getError()->addError( ___31856901(7), Loc::getMessage(___31856901(8))); return false;}}  if($_1942464474= Configuration::getValue(___31856901(9))){ $_3771376=[]; $_704284040= Block::getList([ ___31856901(10) =>[ ___31856901(11)], ___31856901(12) =>[ ___31856901(13) => $landing->getId(), ___31856901(14) => ___31856901(15), ___31856901(16) => ___31856901(17), ___31856901(18) => ___31856901(19)]]); while($_1449199813= $_704284040->fetch()){ if($GLOBALS['____1594584560'][1](___31856901(20), $_1449199813[___31856901(21)], $_947974257)){ $_3771376= $GLOBALS['____1594584560'][2]($_3771376, $_947974257[round(0+0.5+0.5)]);}} $_3771376= $GLOBALS['____1594584560'][3]($GLOBALS['____1594584560'][4]($_3771376)); $_1365842606= new HttpClient; if($_3771376){ $_347278486= $_1365842606->post(___31856901(22),[ ___31856901(23) => $_1942464474, ___31856901(24) => $_3771376, ___31856901(25) => \Bitrix\Main\Application::getInstance()->getContext()->getServer()->get(___31856901(26))]); if($_347278486 && $_347278486 !== ___31856901(27)){ $landing->getError()->addError( ___31856901(28), Loc::getMessage(___31856901(29))); return false;}}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___31856901(30) => array( ___31856901(31) => $landing->getId())))){ $landing->getError()->addError( ___31856901(32), Restriction\Manager::getSystemErrorMessage(___31856901(33))); return false;}  $_926885368= $landing->getMeta(); if( isset($_926885368[___31856901(34)]) && \Bitrix\Main\Loader::includeModule(___31856901(35))){ $_704284040= AppTable::getList([ ___31856901(36) =>[ ___31856901(37) => $_926885368[___31856901(38)]]]); if($_1449199813= $_704284040->fetch()){ $_2068193065= AppTable::getAppStatusInfo($_1449199813, ___31856901(39)); if($_2068193065[___31856901(40)] != ___31856901(41)){ $landing->getError()->addError( ___31856901(42), Restriction\Manager::getSystemErrorMessage(___31856901(43))); return false;}}}  $_153097575=[]; $_704284040= Block::getList([ ___31856901(44) =>[ ___31856901(45)], ___31856901(46) =>[ ___31856901(47) => $landing->getId(), ___31856901(48) => ___31856901(49), ___31856901(50) => ___31856901(51), ___31856901(52) => ___31856901(53), ___31856901(54) => ___31856901(55)]]); while($_1449199813= $_704284040->fetch()){ $_153097575[]= $GLOBALS['____1594584560'][5]($_1449199813[___31856901(56)], round(0+1.6666666666667+1.6666666666667+1.6666666666667));} if(!empty($_153097575)){ foreach(Repo::getAppInfo($_153097575) as $_1484602830){ if(($_1484602830[___31856901(57)] ?? ___31856901(58)) !== ___31856901(59)){ $landing->getError()->addError( ___31856901(60), Restriction\Manager::getSystemErrorMessage(___31856901(61))); return false;}}}  if(!$GLOBALS['____1594584560'][6]($landing->getSiteId(), $_787658785)){ $_787658785[]= $landing->getSiteId(); $_704284040= Site::getList(array( ___31856901(62) => array( ___31856901(63), ___31856901(64)), ___31856901(65) => array( ___31856901(66) => $landing->getSiteId(), ___31856901(67) => ___31856901(68), ___31856901(69) => ___31856901(70)))); if($_1449199813= $_704284040->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE,[ ___31856901(71) =>[ ___31856901(72) => $_1449199813[___31856901(73)]], ___31856901(74) => $_1449199813[___31856901(75)]])){ $_1289965246= Manager::licenseIsFreeSite($_1449199813[___31856901(76)]) &&!Manager::isFreePublicAllowed()? ___31856901(77): ___31856901(78); $_2024913795= Manager::licenseIsFreeSite($_1449199813[___31856901(79)]) &&!Manager::isFreePublicAllowed()? ___31856901(80): ___31856901(81); $landing->getError()->addError( $_1289965246, Restriction\Manager::getSystemErrorMessage($_2024913795)); return false;}}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_538534599=[$landing->getId()];  $_704284040= Landing::getList([ ___31856901(82) =>[ ___31856901(83)], ___31856901(84) =>[ ___31856901(85) => $landing->getSiteId(), ___31856901(86) => ___31856901(87)]]); while($_1449199813= $_704284040->fetch()){ $_538534599[]= $_1449199813[___31856901(88)];} $_704284040= HookData::getList([ ___31856901(89) =>[ ___31856901(90), ___31856901(91), ___31856901(92)], ___31856901(93) =>[[ ___31856901(94) => ___31856901(95),[ ___31856901(96) => Hook::ENTITY_TYPE_SITE, ___31856901(97) => $landing->getSiteId()],[ ___31856901(98) => Hook::ENTITY_TYPE_LANDING, ___31856901(99) => $_538534599]], ___31856901(100) => ___31856901(101), ___31856901(102) => ___31856901(103), ___31856901(104) => ___31856901(105)], ___31856901(106) => round(0+0.2+0.2+0.2+0.2+0.2)]); if($_1449199813= $_704284040->fetch()){ $landing->getError()->addError( ___31856901(107). $_1449199813[___31856901(108)]. $_1449199813[___31856901(109)]. ___31856901(110), Restriction\Manager::getSystemErrorMessage(___31856901(111))); return false;}}  $_1959229230= new Event(___31856901(112), ___31856901(113), array( ___31856901(114) => $landing->getId(), ___31856901(115) => $_758424398)); $_1959229230->send(); foreach($_1959229230->getResults() as $_112785332){ if($_112785332->getResultType() == EventResult::ERROR){ foreach($_112785332->getErrors() as $_2088372588){ $landing->getError()->addError( $_2088372588->getCode(), $_2088372588->getMessage());} return false;}} if($_543446848){ return true;} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___31856901(116))){ $_744948790= $GLOBALS[___31856901(117)]->Query(___31856901(118), true); if($_704284040= $_744948790->Fetch()){ $_808916619= $_704284040[___31856901(119)]; list($_1899767093, $_174619260)= $GLOBALS['____1594584560'][7](___31856901(120), $_808916619); $_53310569= $GLOBALS['____1594584560'][8](___31856901(121), $_1899767093); $_2122149064= ___31856901(122).$GLOBALS['____1594584560'][9]($GLOBALS['____1594584560'][10](___31856901(123))); $_1341098350= $GLOBALS['____1594584560'][11](___31856901(124), $_174619260, $_2122149064, true); if($GLOBALS['____1594584560'][12]($_1341098350, $_53310569) !==(782-2*391)){ $_174619260= ___31856901(125);}} else{ $_174619260= ___31856901(126);} if(!empty($_174619260)){ $_1215509558= $GLOBALS['____1594584560'][13](___31856901(127), $_174619260); $_1083959975= $GLOBALS['____1594584560'][14]((992-2*496), min(30,0,10),(1128/2-564), $_1215509558[round(0+0.33333333333333+0.33333333333333+0.33333333333333)], $_1215509558[round(0+2)], $_1215509558[(778-2*389)]); if($_1083959975 <= $GLOBALS['____1594584560'][15]()){ $landing->getError()->addError( ___31856901(128), Loc::getMessage(___31856901(129))); return false;}}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___31856901(130))){ $_744948790= $GLOBALS[___31856901(131)]->Query(___31856901(132), true); if($_704284040= $_744948790->Fetch()){ $_808916619= $_704284040[___31856901(133)]; list($_1899767093, $_174619260)= $GLOBALS['____1594584560'][16](___31856901(134), $_808916619); $_53310569= $GLOBALS['____1594584560'][17](___31856901(135), $_1899767093); $_2122149064= ___31856901(136).$GLOBALS['____1594584560'][18]($GLOBALS['____1594584560'][19](___31856901(137))); $_1341098350= $GLOBALS['____1594584560'][20](___31856901(138), $_174619260, $_2122149064, true); if($GLOBALS['____1594584560'][21]($_1341098350, $_53310569) !==(222*2-444)){ $_174619260= ___31856901(139);}} else{ $_174619260= ___31856901(140);} if(!empty($_174619260)){ $_1215509558= $GLOBALS['____1594584560'][22](___31856901(141), $_174619260); $_1083959975= $GLOBALS['____1594584560'][23](min(134,0,44.666666666667),(882-2*441),(1452/2-726), $_1215509558[round(0+0.25+0.25+0.25+0.25)], $_1215509558[round(0+1+1)], $_1215509558[(752-2*376)]); if($_1083959975 <= $GLOBALS['____1594584560'][24]()){ $landing->getError()->addError( ___31856901(142), Loc::getMessage(___31856901(143))); return false;}}} if($landing->getFolderId()){ $_704284040= Site::publicationFolder($landing->getFolderId()); if(!$_704284040->isSuccess()){ return false;}} if(!$_758424398){ Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId());} Assets\Manager::rebuildWebpackForLanding($landing->getId());  self::blocksPublication($landing, $_758424398); $_332519226= new \Bitrix\Main\Type\DateTime; $_704284040= Landing::update($landing->getId(), array( ___31856901(144) => ___31856901(145), ___31856901(146) => ___31856901(147), ___31856901(148) => $_332519226, ___31856901(149) => false));  if($_704284040->isSuccess()){ if(!$GLOBALS['____1594584560'][25]($landing->getSiteId(), $_76560656)){ $_76560656[]= $landing->getSiteId(); $_704284040= Site::update($landing->getSiteId(), array( ___31856901(150) => ___31856901(151))); if(!$_704284040->isSuccess()){ $landing->getError()->addFromResult( $_704284040); return false;}} return true;} else{ $landing->getError()->addFromResult( $_704284040);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing, $_758424398= null): void{ if($landing->exist()){ $_1361610056= $landing->getId();  $_63255970= array(); $_1925939033= array(); $_1372216145= array(); $_1999756158= ___31856901(152); $_440992969=[ ___31856901(153) => $landing->getId(), ___31856901(154) => ___31856901(155)]; if($_758424398){  $_440992969[___31856901(156)]= $_758424398; $_704284040= Block::getList([ ___31856901(157) =>[ ___31856901(158), ___31856901(159)], ___31856901(160) => $_440992969]); $_440992969[___31856901(161)]= (array)$_440992969[___31856901(162)]; while($_1449199813= $_704284040->fetch()){ $_440992969[___31856901(163)][]= $_1449199813[___31856901(164)];}} $_704284040= Block::getList([ ___31856901(165) =>[ ___31856901(166), ___31856901(167), ___31856901(168), ___31856901(169), ___31856901(170), ___31856901(171), ___31856901(172), ___31856901(173), ___31856901(174), ___31856901(175), ___31856901(176), ___31856901(177), ___31856901(178), ___31856901(179), ___31856901(180)], ___31856901(181) => $_440992969]); while($_1449199813= $_704284040->fetch()){ $_63255970[$_1449199813[___31856901(182)]]= $_1449199813;}  foreach($_63255970 as $_1791256835 => $_1743171238){ if($_1743171238[___31856901(183)] != ___31856901(184)){  $_1743171238[___31856901(185)]= $GLOBALS['____1594584560'][26]( ___31856901(186), function($_1553704469){ return ___31856901(187). PublicAction\Utils::getIblockURL( $_1553704469[round(0+0.5+0.5+0.5+0.5)], $GLOBALS['____1594584560'][27]($_1553704469[round(0+0.2+0.2+0.2+0.2+0.2)])). ___31856901(188);}, $_1743171238[___31856901(189)]);  $_1743171238[___31856901(190)]= Subtype\Form::prepareFormsToPublication( $_1743171238[___31856901(191)]);  $_1743171238[___31856901(192)]= $GLOBALS['____1594584560'][28]( ___31856901(193), ___31856901(194), $_1743171238[___31856901(195)]); $_661030071= isset($_63255970[$_1743171238[___31856901(196)]])? $_63255970[$_1743171238[___31856901(197)]][___31856901(198)]: min(142,0,47.333333333333); if($_661030071){ Cache::clear($_661030071); $_704284040= Block::update($_661030071, array( ___31856901(199) => $_1743171238[___31856901(200)], ___31856901(201) => $_1743171238[___31856901(202)], ___31856901(203) => $_1743171238[___31856901(204)], ___31856901(205) => $_1743171238[___31856901(206)], ___31856901(207) => $_1743171238[___31856901(208)], ___31856901(209) => $_1743171238[___31856901(210)], ___31856901(211) => $_1743171238[___31856901(212)], ___31856901(213) => $_1743171238[___31856901(214)], ___31856901(215) => $_1743171238[___31856901(216)], ___31856901(217) => $_1743171238[___31856901(218)])); $_704284040->isSuccess(); unset($_63255970[$_1743171238[___31856901(219)]]);  File::replaceInBlock( $_661030071, File::getFilesFromBlockContent( $_1791256835, $_1743171238[___31856901(220)]));} else{ $_704284040= Block::add(array( ___31856901(221) => $_1361610056, ___31856901(222) => $_1743171238[___31856901(223)], ___31856901(224) => $_1743171238[___31856901(225)], ___31856901(226) => $_1743171238[___31856901(227)], ___31856901(228) => $_1743171238[___31856901(229)]?: ___31856901(230). $_1791256835, ___31856901(231) => $_1743171238[___31856901(232)], ___31856901(233) => $_1743171238[___31856901(234)], ___31856901(235) => $_1743171238[___31856901(236)], ___31856901(237) => $_1743171238[___31856901(238)], ___31856901(239) => $_1743171238[___31856901(240)], ___31856901(241) => $_1743171238[___31856901(242)], ___31856901(243) => $_1743171238[___31856901(244)], ___31856901(245) => $_1743171238[___31856901(246)])); if($_704284040->isSuccess()){ $_661030071= $_704284040->getId(); $_704284040= Block::update($_1791256835, array( ___31856901(247) => $_661030071)); $_704284040->isSuccess();  File::addToBlock( $_661030071, File::getFilesFromBlockContent( $_1791256835, $_1743171238[___31856901(248)]));}} if($_661030071){ $_1412287110= new Block($_661030071); Assets\PreProcessing::blockPublicationProcessing($_1412287110); $_1743171238[___31856901(249)]= $_1412287110->getContent(); unset($_1412287110);} if($GLOBALS['____1594584560'][29]($_1999756158, $_1743171238[___31856901(250)])){ $_1925939033[$_661030071]= $_1743171238[___31856901(251)];} $_1372216145[$_1791256835]= $_661030071; unset($_63255970[$_1791256835]);}}  foreach($_63255970 as $_1791256835 => $_1743171238){ $_704284040= Block::delete($_1791256835); $_704284040->isSuccess();}  foreach($_1925939033 as $_1791256835 => $_777983070){ $_777983070= $GLOBALS['____1594584560'][30]( $_1999756158, function($_1733213790) use($_1372216145){ if(isset($_1372216145[$_1733213790[round(0+2)]])){ return $_1733213790[round(0+0.2+0.2+0.2+0.2+0.2)]. ___31856901(252). $_1372216145[$_1733213790[round(0+0.5+0.5+0.5+0.5)]]. $_1733213790[round(0+0.75+0.75+0.75+0.75)];} else{ return $_1733213790[round(0+0.2+0.2+0.2+0.2+0.2)]. ___31856901(253). $_1733213790[round(0+1+1)]. $_1733213790[round(0+1.5+1.5)];}}, $_777983070); $_704284040= Block::update($_1791256835, array( ___31856901(254) => $_777983070)); $_704284040->isSuccess();}}}}?>